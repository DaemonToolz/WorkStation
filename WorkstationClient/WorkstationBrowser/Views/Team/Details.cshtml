@using WorkstationBrowser.SessionReference
@model WorkstationBrowser.SessionReference.TeamModel

@{
    ViewBag.Title = "Details";
    Dictionary<String, bool> MyRights = Session["CurrentUserRights"] as Dictionary<String, bool>;        
}

<h2>@(Model.name)</h2>


<p style="padding-top: 10px;">
    @Html.ActionLink(" ", "Index", null, new { @class = "btn btn-default glyphicon glyphicon-arrow-left" })
    @Html.ActionLink(" ", "Edit", new { id = Model.id }, new { @class = "btn btn-default glyphicon glyphicon-cog" })

</p>

<div class="row">
    <div class="col-lg-12 col-md-12 col-xs-12 text-center">
        <img src="~/UserContent/Team/@(Model.teampic)" width="150" height="150" class="profile-image img-circle" />
    </div>  
</div>

@if (MyRights["CanEditTeam"])
{
    <div class="row">
        <div class="col-md-12 col-lg-12 col-xs-12" align="center">
            @using (Html.BeginForm("FileUpload", "Team", FormMethod.Post, new {enctype = "multipart/form-data"}))
            {
                @Html.HiddenFor(model => model.id)
                ;
                <div class="col-md-12 col-lg-12 col-xs-12" style="padding-top: 20px">
                    <label for="file">Edit Team picture </label>
                    <input type="file" name="file" id="file" style="width: 100%;"/>
                </div>
                <div class="col-md-12 col-lg-12 col-xs-12" style="padding-top: 20px">
                    <button type="submit" class="btn btn-default">
                        <span class="fa fa-cloud-upload fa-2x"></span>
                    </button>
                </div>
            }
        </div>
    </div>
}

<div class="row" style="padding-top:100px">
    <div class="col-lg-7 col-md-4 col-xs-12"  >
        <div class="col-md-12 col-lg-12 col-xs-12">
            <div class="col-md-4 col-xs-4 col-lg-4">
                <h4><strong>Department</strong></h4>
            </div>
            <div class="col-md-8 col-xs-8 col-lg-8">
                @(((DepartmentModel) ViewData["Department"]).name)
            </div>
           
           
        </div>
        <div class="col-md-12 col-lg-12 col-xs-12">
            <div class="col-md-4 col-xs-4 col-lg-4">
                <h4><strong>Project</strong></h4>
            </div>
            <div class="col-md-8 col-xs-8 col-lg-8">
                @(((ProjectModel) ViewData["Project"]).name)
                
            </div>
        </div>

        </div>
        <div class="col-lg-5 col-md-8 col-xs-12 pull-right">
            <h3> Active members</h3>
            <hr/>
            @foreach (var user in (UsersModel[]) ViewData["ActiveMembers"])
            {
                <div class="col-md-3 col-lg-2 col-xs-3">
                    <a  data-toggle="popover" data-trigger="hover" data-content="<b> Rank: </b> @(user.rank) <br/> <b> Email: </b> @(user.email)"  data-title="@(user.username)">
                        <img src="~/UserContent/Profile/@(user.profilepic)"
                             class="profile-image img-circle"
                             width="100" height="100"/>
                    </a>
                    
                </div>
            }
        </div>
    </div>
  
